<!doctype html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">

    <title>Lite</title>
    <meta name="description" content="Lite - WebApp @buildWithLit">
    <meta name="keywords" content="WebApp, WebApp Kit, Lit, WebComponents, Web App, Web, Open Source">
    <meta name="author" content="@cicciosgamino">
    <meta name="generator" content="lite(@cicciosgamino)">

    <meta name="viewport" 
      content="width=device-width, minimum-scale=1, initial-scale=1, user-scalable=no, viewport-fit=cover">

    <!-- Startup configuration https://www.w3.org/TR/appmanifest/ -->
    <link rel="manifest" href="/manifest.webmanifest">

    <!-- Fallback application for legacy browser -->
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="application-name" content="Lite">

    <!-- Theme & Scheme -->
    <meta name="theme-color"
      media="(prefers-color-scheme: light)"
      content="#ffffff">
    <meta name="theme-color"
      media="(prefers-color-scheme: dark)"
      content="#333333">
    <meta name="color-scheme" content="dark light">

    <!-- Use relative path with base and rootPath --> 
    <base href="./">

    <!-- Preload the Logo SVG for custom splash-screen -->
    <link rel="preload" as="image" href="/images/lite.svg">
    <!-- fallback favicon -->
    <link rel="icon" href="/images/favicon.ico" sizes="any">
    <link rel="icon" href="/images/lite.svg" type="image/svg+xml">

    <!-- Loaded first before other components, blocking -->
    <script src="/js/theme-toggle.js"></script>
    
    <!-- Resources (if important)
    <link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin> -->

    <!-- Load and register pre-caching Service Worker -->
    <script>
      const baseUrl = document.querySelector('base').href;
      console.log(`@URL >> ${baseUrl}`)

      /* TODO
      if ('serviceWorker' in navigator) {
        window.addEventListener('load', () => {
          navigator.serviceWorker.register(baseUrl + 'service-worker.js', {
            scope: '/'
          });
        });
      }  */ 
      
    </script>
    
    <style>

      @import url('/css/easings.min.css');

      /* FONT - Dev BLOKK */
      @font-face {
        font-family: 'BLOKK';
        src: url('./fonts/BLOKK/BLOKKNeue-Regular.eot');
        src: url('./fonts/BLOKK/BLOKKNeue-Regular.eot?#iefix') format('embedded-opentype'),
            url('./fonts/BLOKK/BLOKKNeue-Regular.woff2') format('woff2'),
            url('./fonts/BLOKK/BLOKKNeue-Regular.woff') format('woff'),
            url('./fonts/BLOKK/BLOKKNeue-Regular.otf') format('opentype'),
            url('./fonts/BLOKK/BLOKKNeue-Regular.ttf') format('truetype');
        font-weight: normal;
        font-style: normal;
      }

      * {
        /* reset browser defaults */
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      :root {

        /* colors */
        --brand: #c544df;
        --brand: hsl(290,71% ,57%);
        --brand-hue: 290;
        --brand-saturation: 71%;
        --brand-lightness: 57%;

        /* FONT - Working
           Github method to apply system fonts, directly calling them
        --font-family: -apple-system, BlinkMacSystemFont,
          "Segoe UI", Roboto, Helvetica, Arial, sans-serif,
          "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"; */

        /* FONT - Dev BLOKK */
        --app-font-family: 'BLOKK', sans-serif;
        --app-font-size: 2rem;

        /* margin & padding */
        --base-margin: 3rem;
        --base-padding: 3rem;

        /* ------------------------- light (default) ------------------------- */
        --brand-light: hsl(
          var(--brand-hue)
          var(--brand-saturation)
          var(--brand-lightness));
        /* In a light theme, text should be very dark. Notice how the lightness 
          of the following colors is low, well under 50% */
        --text1-light: hsl(var(--brand-hue) var(--brand-saturation) 10%);
        --text2-light: hsl(var(--brand-hue) 30% 30%);
        --text-hover-light: hsl(var(--brand-hue) 5% 5%);
        /* Surface colors are the backgrounds, borders and other decorative surfaces
          that text sits upon or within. In a light theme, these are the light colors,
          as opposed to the text colors which were dark. To create light colors with
          hsl, we'll use higher percentage values in the third lightness value. 
          We'll also lower the saturation, so the light greys don't look too tinted. */
        --surface1-light: hsl(var(--brand-hue) 25% 90%);
        --surface2-light: hsl(var(--brand-hue) 20% 99%);
        --surface3-light: hsl(var(--brand-hue) 20% 92%);
        --surface4-light: hsl(var(--brand-hue) 20% 85%);
        /* shadow */
        --surface-shadow-light: var(--brand-hue) 10% calc(var(--brand-lightness) / 5);
        --shadow-strength-light: .02;

        /* --------------------------- dark theme ----------------------------
          The saturation is cut half and lightness reduced a relative 50% */
        --brand-dark: hsl(
          var(--brand-hue)
          calc(var(--brand-saturation) / 2)
          calc(var(--brand-lightness) / 1.5)
        );
        /* text */
        --text1-dark: hsl(var(--brand-hue) 15% 85%);
        --text2-dark: hsl(var(--brand-hue) 5% 65%);
        --text-hover-dark: hsl(var(--brand-hue) 5% 95%);
        /* surface */
        --surface1-dark: hsl(var(--brand-hue) 10% 10%);
        --surface2-dark: hsl(var(--brand-hue) 10% 15%);
        --surface3-dark: hsl(var(--brand-hue) 5%  20%);
        --surface4-dark: hsl(var(--brand-hue) 5% 25%);
        /* shadow */
        --surface-shadow-dark: var(--brand-hue) 50% 3%;
        --shadow-strength-dark: .8;

      /* ---------------------------- dim theme -------------------------------
        NOT USED - Third option you can toggle in your color scheme, the dimmer
        one. This color scheme is all about orchestrating lightness and saturation.
        There should be enough saturation present to still have a hue visible,
        but should also just barely pass contrast scores since it's intended 
        to be dim and low contrast anyway. */
        --brand-dim: hsl(
          var(--brand-hue) 
          calc(var(--brand-saturation) / 1.25)
          calc(var(--brand-lightness) / 1.25)
        );
        --text1-dim: hsl(var(--brand-hue) 15% 75%);
        --text2-dim: hsl(var(--brand-hue) 10% 61%);
        --text-hover: hsl(var(--brand-hue) 5% 85%);
        --surface1-dim: hsl(var(--brand-hue) 10% 20%);
        --surface2-dim: hsl(var(--brand-hue) 10% 25%);
        --surface3-dim: hsl(var(--brand-hue) 5%  30%);
        --surface4-dim: hsl(var(--brand-hue) 5% 35%);
        --surface-shadow-dim: var(--brand-hue) 30% 13%;
        --shadow-strength-dim: .2;
      }

      :root {
        color-scheme: light;
        --brand: var(--brand-light);
        --text1: var(--text1-light);
        --text2: var(--text2-light);
        --text-hover: var(--text-hover-light);
        --surface1: var(--surface1-light);
        --surface2: var(--surface2-light);
        --surface3: var(--surface3-light);
        --surface4: var(--surface4-light);
        --surface-shadow: var(--surface-shadow-light);
        --shadow-strength: var(--shadow-strength-light);
      }

      @media (prefers-color-scheme: dark) {
        :root {
          color-scheme: dark;
          --brand: var(--brand-dark);
          --text1: var(--text1-dark);
          --text2: var(--text2-dark);
          --text-hover: var(--text-hover-dark);
          --surface1: var(--surface1-dark);
          --surface2: var(--surface2-dark);
          --surface3: var(--surface3-dark);
          --surface4: var(--surface4-dark);
          --surface-shadow: var(--surface-shadow-dark);
          --shadow-strength: var(--shadow-strength-dark);
        }
      }

      [data-theme="light"] {
        color-scheme: light;
        --brand: var(--brand-light);
        --text1: var(--text1-light);
        --text2: var(--text2-light);
        --text-hover: var(--text-hover-light);
        --surface1: var(--surface1-light);
        --surface2: var(--surface2-light);
        --surface3: var(--surface3-light);
        --surface4: var(--surface4-light);
        --surface-shadow: var(--surface-shadow-light);
        --shadow-strength: var(--shadow-strength-light);
      }

      [data-theme="dark"] {
        color-scheme: dark; 
        --brand: var(--brand-dark);
        --text1: var(--text1-dark);
        --text2: var(--text2-dark);
        --text-hover: var(--text-hover-dark);
        --surface1: var(--surface1-dark);
        --surface2: var(--surface2-dark);
        --surface3: var(--surface3-dark);
        --surface4: var(--surface4-dark);
        --surface-shadow: var(--surface-shadow-dark);
        --shadow-strength: var(--shadow-strength-dark);
      }

      /* Good idea to create a classname that pairs a surface color with
        an accessible text color., each of the themes created in this
        challenge pass contrast scores. The dim color scheme has the lowest
        contrast of them, but still passes the minimum requirements. To help
        others on the team use good contrasting colors. */
      .surface1 {
        background-color: var(--surface1);
        color: var(--text2);
      }
      .surface2 {
        background-color: var(--surface2);
        color: var(--text2);
      }
      .surface3 {
        background-color: var(--surface3);
        color: var(--text1);
      }
      .surface4 {
        background-color: var(--surface4);
        color: var(--text1);
      }
      .rad-shadow {
        box-shadow:
          0 2.8px 2.2px hsl(var(--surface-shadow) / calc(var(--shadow-strength) + .03)),
          0 6.7px 5.3px hsl(var(--surface-shadow) / calc(var(--shadow-strength) + .01)),
          0 12.5px 10px hsl(var(--surface-shadow) / calc(var(--shadow-strength) + .02)),
          0 22.3px 17.9px hsl(var(--surface-shadow) / calc(var(--shadow-strength) + .02)),
          0 41.8px 33.4px hsl(var(--surface-shadow) / calc(var(--shadow-strength) + .03)),
          0 100px 80px hsl(var(--surface-shadow) / var(--shadow-strength));
      }

      html {
        /* base rem unit (10px) */
        font-size: 62.5%;
        block-size: 100%;

        color-scheme: light;
      }

      html[data-theme="dark"] {
        color-scheme: dark;
      }

      body {
        min-height: 100vh;
        font-family: var(--app-font-family);
        font-size: var(--app-font-size);
        -webkit-font-smoothing: antialiased;

        background-color: var(--surface2);
        color: var(--text1);

        position: relative;
      }

      h1, h2, h3, h4, figure {
        color: var(--text1);
      }

      p {
        color: var(--text2);
      }

      /* styling for rendering while resources are loading - image */
      app-lite[unresolved] {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background-image: url('/images/lite.svg');
        background-repeat: no-repeat;
        background-position: center;
        background-size: 30% auto;
      }

      /* styling for rendering while resources are loading - text */
      app-lite[unresolved]::after {
        /* version */
        content: "Lite v5.0.1";
        position: fixed;
        left: 0;
        right: 0;
        bottom: 10%;
        color: var(--text1);
        text-align: center;
      }

      /* --------------------------- theme-toggle -------------------------- */
      #theme-toggle {
        position: absolute;
        top: 1.9rem;
        right: 2.3rem;
      }

      .theme-toggle {
      /* --size: 3.2rem; */
      --size: 3.7rem;
      /* example TODO
      --icon-fill: hsl(210 10% 30%);
      --icon-fill-hover: hsl(210 10% 15%); */
      --icon-fill: var(--text1);
      --icon-fill-hover: var(--text-hover);

      background: none;
      border: none;

      inline-size: var(--size);
      block-size: var(--size);
      aspect-ratio: 1;
      border-radius: 50%;

      cursor: pointer;
      /* no double tap so go fast */
      touch-action: manipulation;
      outline-offset: 5px;
    }

    .theme-toggle[data-theme="dark"] {
      /* redundat as example */
      --icon-fill: var(--text1);
      --icon-fill-hover: var(--text-hover-dark);
    }

    /* bigger button for coarse pointer */
    @media (pointer: coarse) {
      .theme-toggle {
        --size: 4.8rem;
      }
    }

    /* The SVG inside of the button needs some styles as well.
      The SVG should fit the size of the button and, for visual
      softness, round out the line ends: */
    .theme-toggle > svg {
      inline-size: 100%;
      block-size: 100%;
      /* sharp border */
      stroke-linecap: round;
    }

    /* animation - to scale, rotation, animations to happen from the 
      center of SVG shapes */
    .sun-and-moon > :is(.moon, .sun, .sun-beams) {
      transform-origin: center center;
    }

    /* colors light / dark / hover / focus */
    .sun-and-moon > :is(.moon, .sun) {
      fill: var(--icon-fill);
    }

    .theme-toggle:is(:hover, :focus-visible) .sun-and-moon > :is(.moon, .sun) {
      fill: var(--icon-fill-hover);
    }

    .sun-and-moon > .sun-beams {
      stroke: var(--icon-fill);
      stroke-width: 2px;
    }

    .theme-toggle:is(:hover, :focus-visible) .sun-and-moon > .sun-beams {
      stroke: var(--icon-fill-hover);
    }

    /* the moon styles need to remove the sunbeams, scale up the sun circle
      and move the circle mask */
    .sun-and-moon[data-theme="dark"] .sun {
      transform: scale(1.75);
    }

    .sun-and-moon[data-theme="dark"] .sun-beams {
      opacity: 0;
    }

    .sun-and-moon[data-theme="dark"] .moon > circle {
      transform: translateX(-7px);

      /* The cx attribute define the x-axis coordinate of a center point. */
      @supports (cx: 1) {
        transform: translateX(0);
        cx: 17;
      }

    }

    /* Animations - how and what transitions */
    @custom-media --motionOk (prefers-reduced-motion: no-preference);

    /* @media (--motionOk) {  (when @custom-media supported) */
    @media (prefers-reduced-motion: no-preference) {

      /* the sun animation */
      .sun-and-moon .sun {
        transition: transform .5s var(--ease-elastic-3);
      }

      .sun-and-moon .sun-beams {
        transition:
          transform .5s var(--ease-elastic-4),
          opacity .5s var(--ease-3);
      }

      .sun-and-moon[data-theme="dark"] > .sun {
        transform: scale(1.75);
        transition-timing-function: var(--ease-3);
        transition-duration: .25s;
      }

      .sun-and-moon[data-theme="dark"] > .sun-beams {
        transform: rotateZ(-25deg);
        transition-duration: .15s;
      }

      /* the moon animation */
      .sun-and-moon > .moon > circle {
        transform: translateX(+7px);
        transition: transform .25s var(--ease-out-5);

        @supports (cx: 1) {
          transform: translateX(0);
          cx: 17;
          transition: cx .25s var(--ease-out-5);
        }
      }

      .sun-and-moon[data-theme="dark"] > .moon > circle {
        transition-delay: .25s;
        transition-duration: .5s;
      }
    }

    /* ---------------------------- github corner -------------------------- */
    .github-corner {
      position: absolute;
      bottom: 80px;
      right: 0;

      fill: var(--text1);
      color: Canvas; 
    }

    </style>

  </head>
  <body>

    <!-- Main WebApp Component -->
    <app-lite unresolved></app-lite>

    <!-- theme-toggle button -->
    <button 
      id="theme-toggle"
      class="theme-toggle"
      title="Toggles light & dark"
      aria-label="auto"
      aria-live="polite">
      <!-- marked presentational -->
      <svg class="sun-and-moon" aria-hidden="true" width="24" height="24" viewBox="0 0 24 24">
        <mask class="moon" id="moon-mask">
          <rect x="0" y="0" width="100%" height="100%" fill="white" />
          <circle cx="24" cy="10" r="6" fill="black" />
        </mask>
        <!-- the mask property points to an SVG element's ID -->
        <circle class="sun" cx="12" cy="12" r="6" mask="url(#moon-mask)" fill="currentColor" />

        <!-- sunbeam lines -->
        <g class="sun-beams" stroke="currentColor">
          <line x1="12" y1="1" x2="12" y2="3" />
          <line x1="12" y1="21" x2="12" y2="23" />
          <line x1="4.22" y1="4.22" x2="5.64" y2="5.64" />
          <line x1="18.36" y1="18.36" x2="19.78" y2="19.78" />
          <line x1="1" y1="12" x2="3" y2="12" />
          <line x1="21" y1="12" x2="23" y2="12" />
          <line x1="4.22" y1="19.78" x2="5.64" y2="18.36" />
          <line x1="18.36" y1="5.64" x2="19.78" y2="4.22" />
        </g>
      </svg>
    </button>

    <!-- Github corner -->
    <a
      href="https://github.com/CICCIOSGAMINO/Lite"
      class="github-corner"
      aria-label="View source on github">

      <svg width="80" height="80" viewBox="0 0 250 250" style="position: absolute; top: 0; border: 0; right: 0;" aria-hidden="true" version="1.1" id="svg8" xmlns="http://www.w3.org/2000/svg" xmlns:svg="http://www.w3.org/2000/svg">
        <defs id="defs12" />
        <path id="path2-3" style="stroke-width:0.32" d="M 80 0 C 52.669261 26.883589 27.059238 52.940762 0 80 L 73.287109 80 C 73.780704 79.367799 73.592653 78.709845 73.203125 78.320312 C 72.766763 77.883953 71.30756 76.457806 69.769531 74.935547 C 65.78285 81.137691 61.439453 78.943359 61.439453 78.943359 C 58.490151 77.660054 56.726563 78.296875 56.726562 78.296875 C 53.928581 78.821781 55.738281 77.058594 55.738281 77.058594 C 57.7063 75.348933 60.431641 76.140625 60.431641 76.140625 C 64.864082 77.306577 66.706138 73.844889 67.283203 72.332031 C 66.264624 70.984134 65.931637 69.701682 65.998047 68.720703 C 61.46796 72.325305 55.620162 75.032268 48.603516 68.015625 C 46.604565 66.016671 45.687157 63.666699 45.576172 61.212891 C 44.924815 60.941793 42.435922 59.70642 40.908203 56.189453 C 40.908203 56.189453 41.953987 54.159166 47.822266 53.029297 C 48.877235 51.162862 50.240119 49.393576 51.789062 47.830078 C 53.35256 46.281134 55.123023 44.917074 56.992188 43.859375 C 58.118114 37.995039 60.146484 36.951172 60.146484 36.951172 C 63.665572 38.476765 64.900777 40.965831 65.171875 41.617188 C 67.628413 41.725444 69.97175 42.649487 71.970703 44.648438 C 79.004329 51.682066 76.268842 57.513927 72.644531 62.044922 C 73.869616 61.956378 75.570849 62.484911 77.279297 64.193359 C 78.611511 65.525574 79.09934 66.025551 80 66.9375 L 80 0 z " transform="scale(3.125)" />
        <g id="g24" transform="matrix(0.94762157,-0.94762157,-0.94762157,-0.94762157,134.16818,121.79592)" />
      </svg>

    </a>

    <noscript>
      <h1>Enable JavaScript</h1>
      <h3>Lite works only with JavaScript!</h3>
    </noscript>

    <script type="module" src="/src/app-lite.js" crossorigin></script>

    <script>
      window.addEventListener('DOMContentLoaded', (event) => {
        // WebApp version (README, package.json, CHANGELOG, index.html) 
        window.webAppVersion = 'v5.0.1'

        // Console a Welcome message for Developers 
        console.log(
          `%c %cLite \n%cLite WebApp Template\n\n-- ${window.webAppVersion} --`,
          `padding: 37px 33px 15px; background:url(${baseUrl}images/icons/icon96x96.png) no-repeat;background-size:cover;`,
          `font-size: 32px; color: #c544df;`,
          `padding: 10px 0px 0px 0px; font-size: 16px; color: #333;`
        )

        // when DOMContentLoaded remove the unresolved attribute
        document.querySelector('app-lite').removeAttribute('unresolved')
      })
    </script>

</body>
</html>